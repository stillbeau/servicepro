<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Countertop Service Request | FLOFORM</title>
  <style>
    :root {
      --primary: #1a5276;
      --primary-light: #2980b9;
      --accent: #e67e22;
      --bg: #f4f6f8;
      --card: #ffffff;
      --text: #2c3e50;
      --text-light: #7f8c8d;
      --border: #dce1e6;
      --error: #e74c3c;
      --success: #27ae60;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
    }

    header {
      background: var(--primary);
      color: white;
      padding: 1.5rem 0;
      box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    }

    header .container {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    header h1 {
      font-size: 1.5rem;
      font-weight: 700;
      letter-spacing: -0.5px;
    }

    header p {
      font-size: 0.9rem;
      opacity: 0.85;
    }

    .container {
      max-width: 720px;
      margin: 0 auto;
      padding: 0 1.25rem;
    }

    .intro {
      text-align: center;
      padding: 2rem 0 1rem;
    }

    .intro h2 {
      font-size: 1.6rem;
      margin-bottom: 0.5rem;
      color: var(--primary);
    }

    .intro p {
      color: var(--text-light);
      max-width: 540px;
      margin: 0 auto;
    }

    .steps {
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      margin: 1.5rem 0 2rem;
      flex-wrap: wrap;
    }

    .step {
      display: flex;
      align-items: center;
      gap: 0.6rem;
      font-size: 0.85rem;
      color: var(--text-light);
    }

    .step-num {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background: var(--primary);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 0.8rem;
      flex-shrink: 0;
    }

    .card {
      background: var(--card);
      border-radius: 12px;
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: 0 1px 4px rgba(0,0,0,0.08);
    }

    .card h3 {
      font-size: 1.1rem;
      margin-bottom: 1.25rem;
      padding-bottom: 0.75rem;
      border-bottom: 2px solid var(--bg);
      color: var(--primary);
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
    }

    .form-group {
      margin-bottom: 1rem;
    }

    .form-group.full {
      grid-column: 1 / -1;
    }

    label {
      display: block;
      font-weight: 600;
      font-size: 0.85rem;
      margin-bottom: 0.35rem;
      color: var(--text);
    }

    label .required {
      color: var(--error);
    }

    input, select, textarea {
      width: 100%;
      padding: 0.65rem 0.85rem;
      border: 1.5px solid var(--border);
      border-radius: 8px;
      font-size: 0.95rem;
      font-family: inherit;
      color: var(--text);
      transition: border-color 0.2s, box-shadow 0.2s;
      background: white;
    }

    input:focus, select:focus, textarea:focus {
      outline: none;
      border-color: var(--primary-light);
      box-shadow: 0 0 0 3px rgba(41,128,185,0.12);
    }

    input.invalid, select.invalid, textarea.invalid {
      border-color: var(--error);
    }

    textarea {
      resize: vertical;
      min-height: 100px;
    }

    .photo-tip {
      background: #fef9e7;
      border: 1px solid #f9e79f;
      border-radius: 8px;
      padding: 1rem 1.25rem;
      margin-bottom: 1.25rem;
      display: flex;
      gap: 0.75rem;
      align-items: flex-start;
    }

    .photo-tip .icon {
      font-size: 1.4rem;
      flex-shrink: 0;
      line-height: 1;
    }

    .photo-tip p {
      font-size: 0.85rem;
      color: #7d6608;
    }

    .photo-tip strong {
      color: #5a4a06;
    }

    .photo-checklist {
      list-style: none;
      margin-top: 0.5rem;
    }

    .photo-checklist li {
      padding: 0.3rem 0;
      font-size: 0.85rem;
      color: var(--text-light);
    }

    .photo-checklist li::before {
      content: "\2713";
      color: var(--success);
      font-weight: 700;
      margin-right: 0.5rem;
    }

    .submit-section {
      text-align: center;
      padding: 0.5rem 0 2.5rem;
    }

    .btn-submit {
      display: inline-block;
      background: var(--accent);
      color: white;
      border: none;
      padding: 0.85rem 2.5rem;
      font-size: 1.05rem;
      font-weight: 700;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.2s, transform 0.1s;
      font-family: inherit;
    }

    .btn-submit:hover {
      background: #d35400;
    }

    .btn-submit:active {
      transform: scale(0.98);
    }

    .btn-submit:disabled {
      background: #bdc3c7;
      cursor: not-allowed;
    }

    .submit-note {
      font-size: 0.8rem;
      color: var(--text-light);
      margin-top: 0.75rem;
    }

    .error-msg {
      color: var(--error);
      font-size: 0.8rem;
      margin-top: 0.25rem;
      display: none;
    }

    .error-msg.show {
      display: block;
    }

    footer {
      text-align: center;
      padding: 1.5rem 0;
      color: var(--text-light);
      font-size: 0.8rem;
      border-top: 1px solid var(--border);
    }

    @media (max-width: 600px) {
      .form-row {
        grid-template-columns: 1fr;
      }

      .steps {
        flex-direction: column;
        align-items: center;
        gap: 0.75rem;
      }

      .card {
        padding: 1.25rem;
      }

      header h1 {
        font-size: 1.25rem;
      }
    }
  </style>
</head>
<body>

<header>
  <div class="container">
    <div>
      <h1>FLOFORM Countertop Service</h1>
      <p>Service Request Form</p>
    </div>
  </div>
</header>

<main class="container">
  <div class="intro">
    <h2>Request Countertop Service</h2>
    <p>Fill out the form below and we'll get back to you as soon as possible.</p>
  </div>

  <div class="steps">
    <div class="step"><span class="step-num">1</span> Fill out the form</div>
    <div class="step"><span class="step-num">2</span> Review the email</div>
    <div class="step"><span class="step-num">3</span> Attach 3 photos &amp; send</div>
  </div>

  <form id="serviceForm" novalidate>

    <!-- Contact Information -->
    <div class="card">
      <h3>Contact Information</h3>
      <div class="form-row">
        <div class="form-group">
          <label for="firstName">First Name <span class="required">*</span></label>
          <input type="text" id="firstName" required>
          <div class="error-msg">First name is required.</div>
        </div>
        <div class="form-group">
          <label for="lastName">Last Name <span class="required">*</span></label>
          <input type="text" id="lastName" required>
          <div class="error-msg">Last name is required.</div>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="email">Email <span class="required">*</span></label>
          <input type="email" id="email" required>
          <div class="error-msg">Please enter a valid email address.</div>
        </div>
        <div class="form-group">
          <label for="phone">Phone <span class="required">*</span></label>
          <input type="tel" id="phone" required placeholder="(555) 123-4567">
          <div class="error-msg">Phone number is required.</div>
        </div>
      </div>
      <div class="form-group">
        <label for="address">Service Address <span class="required">*</span></label>
        <input type="text" id="address" required placeholder="Street address, city, province/state, postal code">
        <div class="error-msg">Service address is required.</div>
      </div>
    </div>

    <!-- Service Details -->
    <div class="card">
      <h3>Service Details</h3>
      <div class="form-row">
        <div class="form-group">
          <label for="requestType">Type of Request <span class="required">*</span></label>
          <select id="requestType" required>
            <option value="">-- Select --</option>
            <option value="Chip Repair">Chip Repair</option>
            <option value="Crack Repair">Crack Repair</option>
            <option value="Seam Issue">Seam Issue</option>
            <option value="Stain or Discoloration">Stain or Discoloration</option>
            <option value="Loose or Separated Countertop">Loose or Separated Countertop</option>
            <option value="Sink or Faucet Issue">Sink or Faucet Issue</option>
            <option value="General Maintenance">General Maintenance</option>
            <option value="Other">Other</option>
          </select>
          <div class="error-msg">Please select a request type.</div>
        </div>
        <div class="form-group">
          <label for="material">Countertop Material <span class="required">*</span></label>
          <select id="material" required>
            <option value="">-- Select --</option>
            <option value="Quartz">Quartz</option>
            <option value="Granite">Granite</option>
            <option value="Marble">Marble</option>
            <option value="Laminate">Laminate</option>
            <option value="Solid Surface">Solid Surface</option>
            <option value="Butcher Block">Butcher Block</option>
            <option value="Other">Other</option>
            <option value="Not Sure">Not Sure</option>
          </select>
          <div class="error-msg">Please select a material.</div>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="installDate">Approximate Install Date</label>
          <input type="text" id="installDate" placeholder="e.g. March 2023 or Unknown">
        </div>
        <div class="form-group">
          <label for="urgency">Urgency</label>
          <select id="urgency">
            <option value="Normal">Normal</option>
            <option value="Urgent - Affecting daily use">Urgent - Affecting daily use</option>
          </select>
        </div>
      </div>
      <div class="form-group">
        <label for="description">Description of the Issue <span class="required">*</span></label>
        <textarea id="description" required placeholder="Please describe the issue in as much detail as possible. Where is the damage? When did you first notice it? How large is the affected area?"></textarea>
        <div class="error-msg">Please describe the issue.</div>
      </div>
    </div>

    <!-- Photo Instructions -->
    <div class="card">
      <h3>Photo Instructions</h3>
      <div class="photo-tip">
        <span class="icon">&#128247;</span>
        <div>
          <p><strong>Important: Please place a coin next to the damage in at least one photo.</strong> This helps us accurately assess the size and scale of the issue.</p>
        </div>
      </div>
      <p style="font-size:0.9rem; margin-bottom:0.75rem; color:var(--text);">When your email opens, please <strong>attach 3 photos</strong>:</p>
      <ul class="photo-checklist">
        <li>A close-up of the damage/issue <strong>with a coin for scale</strong></li>
        <li>A wider shot showing the surrounding area</li>
        <li>An overall photo of the full countertop</li>
      </ul>
    </div>

    <!-- Submit -->
    <div class="submit-section">
      <button type="submit" class="btn-submit">Open Email &amp; Send Request</button>
      <p class="submit-note">Your default email app will open with everything pre-filled.<br>Just attach your 3 photos and hit send.</p>
    </div>

  </form>
</main>

<footer>
  <div class="container">
    &copy; 2026 FLOFORM Countertops. All rights reserved.
  </div>
</footer>

<script>
  const form = document.getElementById('serviceForm');

  function validateField(field) {
    const errorMsg = field.parentElement.querySelector('.error-msg');
    let valid = true;

    if (field.hasAttribute('required') && !field.value.trim()) {
      valid = false;
    }

    if (field.type === 'email' && field.value.trim()) {
      const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailPattern.test(field.value.trim())) {
        valid = false;
      }
    }

    if (valid) {
      field.classList.remove('invalid');
      if (errorMsg) errorMsg.classList.remove('show');
    } else {
      field.classList.add('invalid');
      if (errorMsg) errorMsg.classList.add('show');
    }

    return valid;
  }

  // Live validation on blur
  form.querySelectorAll('input, select, textarea').forEach(field => {
    field.addEventListener('blur', () => validateField(field));
    field.addEventListener('input', () => {
      if (field.classList.contains('invalid')) {
        validateField(field);
      }
    });
  });

  form.addEventListener('submit', function(e) {
    e.preventDefault();

    // Validate all required fields
    const requiredFields = form.querySelectorAll('[required]');
    let allValid = true;

    requiredFields.forEach(field => {
      if (!validateField(field)) {
        allValid = false;
      }
    });

    if (!allValid) {
      const firstInvalid = form.querySelector('.invalid');
      if (firstInvalid) {
        firstInvalid.scrollIntoView({ behavior: 'smooth', block: 'center' });
        firstInvalid.focus();
      }
      return;
    }

    // Gather values
    const firstName = document.getElementById('firstName').value.trim();
    const lastName = document.getElementById('lastName').value.trim();
    const email = document.getElementById('email').value.trim();
    const phone = document.getElementById('phone').value.trim();
    const address = document.getElementById('address').value.trim();
    const requestType = document.getElementById('requestType').value;
    const material = document.getElementById('material').value;
    const installDate = document.getElementById('installDate').value.trim();
    const urgency = document.getElementById('urgency').value;
    const description = document.getElementById('description').value.trim();

    // Build subject
    const subject = `Service Request: ${requestType} - ${firstName} ${lastName}`;

    // Build body
    const body = [
      `COUNTERTOP SERVICE REQUEST`,
      `${'='.repeat(35)}`,
      ``,
      `CONTACT INFORMATION`,
      `Name: ${firstName} ${lastName}`,
      `Email: ${email}`,
      `Phone: ${phone}`,
      `Service Address: ${address}`,
      ``,
      `SERVICE DETAILS`,
      `Request Type: ${requestType}`,
      `Countertop Material: ${material}`,
      `Approximate Install Date: ${installDate || 'Not provided'}`,
      `Urgency: ${urgency}`,
      ``,
      `DESCRIPTION OF ISSUE`,
      `${description}`,
      ``,
      `${'='.repeat(35)}`,
      ``,
      `** REMINDER: Please attach 3 photos before sending: **`,
      `  1. Close-up of the damage WITH A COIN for scale`,
      `  2. Wider shot showing the surrounding area`,
      `  3. Overall photo of the full countertop`,
    ].join('\n');

    // Build mailto
    const mailto = `mailto:sbeaumont@floform.com`
      + `?subject=${encodeURIComponent(subject)}`
      + `&body=${encodeURIComponent(body)}`;

    window.location.href = mailto;
  });
</script>

</body>
</html>
